(this.webpackJsonpfiregram=this.webpackJsonpfiregram||[]).push([[0],{15:function(e,t,a){e.exports=a(26)},20:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(13),l=a.n(c),i=(a(20),a(2)),s=function(){return n.a.createElement("div",{className:"title"},n.a.createElement("h1",null,"FireGram"),n.a.createElement("h2",null,"Your Pictures"),n.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit."))},o=a(8),u=a.n(o),m=a(14),p=a(5);a(28),a(22);p.initializeApp({apiKey:"AIzaSyBtaDDhBD2BNe5zg2SfSrUEMxf8L4pu99A",authDomain:"firegram-ec7e3.firebaseapp.com",databaseURL:"https://firegram-ec7e3.firebaseio.com",projectId:"firegram-ec7e3",storageBucket:"firegram-ec7e3.appspot.com",messagingSenderId:"795536117238",appId:"1:795536117238:web:6702a7cf0b36abc4638bd7"});var f=p.storage(),d=p.firestore(),g=p.firestore.FieldValue.serverTimestamp;var b=function(e){var t=Object(r.useState)(0),a=Object(i.a)(t,2),n=a[0],c=a[1],l=Object(r.useState)(null),s=Object(i.a)(l,2),o=s[0],p=s[1],b=Object(r.useState)(null),v=Object(i.a)(b,2),E=v[0],j=v[1];return Object(r.useEffect)((function(){var t=f.ref(e.name),a=d.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes;c(t)}),(function(e){p(e)}),Object(m.a)(u.a.mark((function e(){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getDownloadURL();case 3:r=e.sent,n=g(),a.add({url:r,createdAt:n}),j(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))))}),[e]),{progress:n,url:E,error:o}},v=a(3);function E(e){var t=e.file,a=e.setFile,c=b(t),l=c.url,i=c.progress;return Object(r.useEffect)((function(){l&&a(null)}),[l,a]),n.a.createElement(v.a.div,{className:"progress-bar",initial:{scaleX:0},animate:{scaleX:i}})}function j(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(null),s=Object(i.a)(l,2),o=s[0],u=s[1],m=["image/png","image/jpeg"];return n.a.createElement("form",null,n.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&m.includes(t.type)?(c(t),u("")):(c(null),u("Please select an image file (png or jpeg)."))}}),n.a.createElement("div",{className:"output"},o&&n.a.createElement("p",{className:"error"},o),a&&n.a.createElement("p",null,a.name),a&&n.a.createElement(E,{file:a,setFile:c})))}var O=a(9);function S(e){var t=e.setSelectedImg,a=function(e){var t=Object(r.useState)([]),a=Object(i.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){var t=d.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(O.a)(Object(O.a)({},e.data()),{},{id:e.id}))})),c(t)}));return function(){return t()}}),[e]),{docs:n}}("images").docs;return console.log(a),n.a.createElement("div",{className:"img-grid"},a&&a.map((function(e){return n.a.createElement(v.a.div,{layout:!0,whileHover:{opacity:1},className:"img-wrap",key:e.id,onClick:function(){return t(e.url)}},n.a.createElement(v.a.img,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},src:e.url,alt:"User created img"}))})))}function h(e){var t=e.selectedImg,a=e.setSelectedImg;return n.a.createElement(v.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&a(null)},initial:{opacity:0},animate:{opacity:1}},n.a.createElement("img",{src:t,alt:"Fullsize img"}))}var y=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1];return n.a.createElement("div",{className:"App"},n.a.createElement(s,null),n.a.createElement(j,null),n.a.createElement(S,{setSelectedImg:c}),a&&n.a.createElement(h,{selectedImg:a,setSelectedImg:c}))};l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(y,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.4b029def.chunk.js.map